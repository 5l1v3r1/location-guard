<html>
<head>
	<title>Location Guard</title>
	<meta charset="utf-8"> 

	<script src="external/jquery/jquery.min.js"></script>
	<script src="external/jquery/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="external/jquery/jquery-ui.min.css">

	<script src="external/leaflet/leaflet.js"></script>
	<script src="external/leaflet/L.CircleEditor.js"></script>
	<link rel="stylesheet" href="external/leaflet/leaflet.css">

	<style>
	body {
		font-size: 13px;
		font-family: verdana;
	}
	a:link { color: #0000FF; }
	a:visited { color: #0000FF; }
	#title {
		position: absolute;
		left: 18px;
		right: 18px;
		top: 18px;
		border-radius: 4px;
	}
	.header {
		padding: 7px;
		font-size: 16px;
		font-weight: bold;
	}
	#tabs {
		position: absolute;
		left: 18px;
		right: 18px;
		top: 60px;
		bottom: 18px;
	}
	.ui-tabs .ui-tabs-panel {
		position: absolute;
		left: 0px;
		right: 0px;
		top: 40px;
		bottom: 0px;
		padding: 0px;
		margin: 10px;
		margin-bottom: 20px;
	}
	#levelTabs {
		height: 100%;
	}
	#levelMap {
		position: absolute;
		left: 0px;
		right: 300px;
		top: 0px;
		bottom: 0px;
	}
	#levelOptions {
		position: absolute;
		width: 290px;
		right: 0px;
		top: 0px;
		bottom: 0px;
	}
	#fixedPosMap {
		position: absolute;
		left: 0px;
		right: 300px;
		top: 0px;
		bottom: 0px;
	}
	#fixedPosOptions {
		position: absolute;
		width: 290px;
		right: 0px;
		top: 0px;
		bottom: 0px;
	}
	.ui-slider {
		margin: 10px;
	}
	</style>

	<script src="js/util.js"></script>
	<script src="js/browser_base.js"></script>
	<script src="js/browser.js"></script>
	<script src="js/laplace.js"></script>
	<script src="js/options.js"></script>
</head>
<body>
	<div id="title" class="header ui-state-hover">
		Location Guard
	</div>
	<div id="tabs">
		<ul>
			<li><a href="#general"><span>Options</span></a></li>
			<li><a href="#levels"><span>Privacy Levels</span></a></li>
			<li><a href="#fixedPOs"><span>Fixed Position</span></a></li>
			<li><a href="#faq"><span>FAQ</span></a></li>
		</ul>
		<div id="general">
			<!--Epsilon (for the selected radius): <input type="text" id="epsilon" size="4"><br>-->
			<br>
			<label><input type="checkbox" id="paused"> Pause Location Guard</label>
			<br><br>
			<label><input type="checkbox" id="hideIcon"> Hide icon</label>
			<br><br>
			<label><input type="checkbox" id="updateAccuracy"> Update accuracy
			(adapts the accuracy reported by the geolocation API to the amount of added noise)</label>
			<br><br>
			Default level:
			<select id="defaultLevel">
				<option value="fixed">Used fixed location</option>
				<option value="high">High</option>
				<option value="medium">Medium</option>
				<option value="low">Low</option>
				<option value="real">Use real location</option>
			</select>
			<br><br><br>
			<input type='button' id='deleteCache' value='Delete fake location cache'/>
			<input type='button' id='restoreDefaults' value='Restore default options'/>
			<br><br><br>
			<b>Note:</b> this extension is still in beta, for issues or
			suggestions please use <a target="_blank" href="https://chrome.google.com/webstore/support/cfohepagpmnodfdmjliccbbigdkfcgia?hl=en&gl=DE#bug">this form</a>.
		</div>

		<div id="levels">
			<div id="levelTabs">
				<ul>
					<li><a href="#level"><span>Low</span></a></li>
					<li><a href="#level"><span>Medium</span></a></li>
					<li><a href="#level"><span>High</span></a></li>
				</ul>
				<div id="level">
					<div id="levelMap"></div>
					<div id="levelOptions">
						Protection area: <b><span id="radius"></span> meters</b><br>
						<div id="setRadius"></div>
						Accuracy: <b><span id="accuracy"></span> meters</b><br>
						<br><br>
						Cache location for: <b><span id="cacheTime"></span></b><br>
						<div id="setCacheTime"></div>
						<br>
						<a id="showCurrentPosition" href="#">Show my current position</a>
					</div>
				</div>
			</div>
		</div>

		<div id="fixedPos">
			<div id="fixedPosMap"></div>
			<div id="fixedPosOptions">
				<p>This position is reported when the privacy level is set to "Use fixed position".</p>
				<p>This offers the highest privacy, since the reported position is completely
				independent from the real one, at the cost of very low accuracy.</p>
				<p>Click anywhere on the map to set a new fixed position.</p>
				<br>
				<p><label><input type="checkbox" id="fixedPosNoAPI">
					Do not perform geolocation at all when using a fixed location.</label>
				</p>
				<p><b>Warning: </b> this also disables the permission dialog.</p>
			</div>
		</div>

		<div id="faq">
			<div class="header">
				Frequently Asked Questions
			</div>
			<div id="faqlist">  
				<h3><a href="">How does Location Guard work?</a></h3>  
				<div>
					<p>Websites can ask the browser for your location using javascript. When they do so, the browser
					first asks your permission, and if you accept, it detects your location (typically by transmitting a
					list of available wifi access points to a geolocation provider such as Google Location Services) and
					gives it to the website.</p>

					<p>Location Guard intercepts the javascript call. The permission dialog appears as usual, and you
					can still choose to deny. If you give permission, then Location Guard obtains your location and adds
					"random noise" to it, creating a fake location. Only the fake location is then given to the
					website.</p>

					<p>To see Location Guard in action use <a href="http://html5demos.com/geo" target="_blank">this demo</a>,
					a <a href="http://forecast.io/" target="_blank">geolocalized weather forecast</a>,
					or go to <a href="http://maps.google.com" target="_blank">Google Maps</a>
					and press the <img src="images/gmaps_dot.png"/> button.
					When the website asks for your location you will see the the <img src="images/pin_19.png"/> icon in
					the address bar (which also provides configuration options).
					</p>
				</div>

				<h3><a href="">What kind of privacy does Location Guard provide?</a></h3>  
				<div>
					<p>Location Guard provides privacy within a certain <i>protection area</i> by ensuring that all
					locations within this area look <i>plausible</i> for being the real one. This is achieved by adding
					random noise in a way such that all locations within the protection area can produce the same fake
					location with similar probability. As a consequence, the fake location provides no information to
					the website for distinguishing between locations within the protection area.</p>

					<p><b>Warning:</b> <i>background knowledge</i> can still be used by websites to guess the real
					location within the protection area. For instance, if the protection area is in the middle of a lake
					containing only a small island, it will be easy to infer that the real location is on the island. In
					scenarios like this you should choose a higher privacy level or deny disclosing your location at
					all.
				</div>

				<h3><a href="">What are "privacy levels"?</a></h3>  
				<div>
					<p>The privacy level determines the amount of noise added to your real location. A higher level adds
					more noise, so the fake location will be further away from the real one. This offers protection
					within a larger area, but it might make the service provided by the website less useful.</p>

					<p>By default all websites use the "medium" level (this can be changed from the <a
					href="#general">Options tab</a>). You can select a different level for a specific website using
					the <img src="images/pin_19.png"/> icon. For instance, you could select a lower privacy level for
					websites that need an accurate location (eg. maps), and a higher one for websites that only need
					approximate information (eg. weather forecast).</p>

					<p>For more flexibility, each level can be configured from the <a href="#levels">Privacy Levels
					tab</a>. The red circle is the <i>protection area</i>: locations in this area look plausible to
					be the real one (see <a href="#" class="showPrivacyFAQ">"What kind of privacy does Location Guard
					provide?"</a>). The blue circle is the <i>accuracy</i>: the fake location will be inside this circle
					with high probability (note that the noise is random). Use the slider to adapt the two areas to your
					needs.</p>
				</div>

				<h3><a href="">What is a "fixed position"?</a></h3>  
				<div>
					<p>The privacy level can be set to "Use fixed position". In this case Location Guard always reports
					a fixed location to the website that never changes (instead of generating a fake location by adding
					noise to the real one). This offers the highest privacy, since the reported position is completely
					independent from the real one, at the cost of very low accuracy.</p>

					<p>The default fixed position is meant as a joke. You can also modify it
					from the <a href="#fixedPos">Fixed Position tab</a>.</p>

					<p>When using a fixed position, the browser's geolocation is not performed at all. This offers
					better privacy, since the list of wifi access points is not transmitted to Google's servers.
					However, it has the side effect that the <i>permission dialog is not displayed at all</i>.
					This behaviour is acceptable if the fixed position is a dummy one, but it can
					be modified if you set the fixed position to be a sensitive one.</p>
				</div>

				<h3><a href="">How Location Guard uses my information?</a></h3>
				<div>
					<p>Location Guard takes your privacy seriously! First, the extension itself has no "special
					permission" to access your location, it can obtain it only when a website asks for it and only if
					you allow access in the permission dialog.</p>

					<p>Location Guard runs locally in your browser and <i>sends no information</i> whatsoever to the
					network. It only communicates your fake location to the website that asks for it.</p>

					<p>Location Guard also never stores your real location. The <i>fake</i> location is cached for a
					small period of time; if a website asks for your location during this time the cached fake location
					will be returned. This improves privacy by avoiding to generate too many fake locations which
					would be centered around the real one. The cache period can be configured from the <a
					href="#levels">Privacy Levels tab</a> and the cache can be deleted from
					the <a href="#general">Options tab</a>.
				</div>

				<h3><a href="">What is the technology behind Location Guard?</a></h3>
				<div>
					<p>Location Guard is a product of research carried out at the Ecole Polytechnique of Paris,
					CNRS and INRIA. It is based on work by <a href="http://www.lix.polytechnique.fr/~mandres" target="_blank">Miguel Andrés</a>,
					<a href="http://www.lix.polytechnique.fr/~nbordenabe/" target="_blank">Nicolás Bordenabe</a>, 
					<a href="http://www.lix.polytechnique.fr/~kostas/" target="_blank">Kostas Chatzikokolakis</a>, 
					<a href="http://www.lix.polytechnique.fr/~catuscia/" target="_blank">Catuscia Palamidessi</a> and
					<a href="http://www.lix.polytechnique.fr/~stronati/" target="_blank">Marco Stronati</a>.</p>

					<p>Location Guard implements a <a href="http://en.wikipedia.org/wiki/Location_obfuscation" target="_blank">location obfuscation</a>
					technique based on adding noise from a 2-dimensional
					<a href="http://en.wikipedia.org/wiki/Laplace_distribution" target="_blank">Laplace distribution</a>.
					This method can be formally shown to provide a privacy guarantee which is a variant
					of <a href="http://en.wikipedia.org/wiki/Differential_privacy" target="_blank">Differential Privacy</a>.
					More details can be found in the paper below.</p>

					<p><b>Geo-Indistinguishability: Differential Privacy for Location-Based Systems</b>.<br>
					M. Andres, N. Bordenabe, K. Chatzikokolakis and C. Palamidessi.<br>
					<i>Proc. of the ACM Conference on Computer and Communications Security (CCS) '13</i>, ACM, pp. 901-914, 2013.
					[<a href="http://arxiv.org/abs/1212.1984" target="_blank">report version</a>]</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
